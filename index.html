<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Diseño — UCH — Sesión de Póster Académico</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet" />
        <style>
            body {
                font-family: "IBM Plex Sans", sans-serif;
                color: #081626;
                padding: 1.5rem 1rem;
            }

            @media (min-width: 799px) {
                .container {
                    max-width: 800px;
                    box-shadow: 0 0 4px #ddd;
                }
            }
            em {
                font-weight: bold;
                font-style: normal;
            }

            header h1 {
                color: #102b4a;
                line-height: 1;
                font-weight: 900;
                margin: 2rem -0.2rem;
                text-decoration: underline;
                font-size: 10vw;
            }

            @media (orientation: landscape) {
                header h1 {
                    font-size: calc(1rem + 5vw);
                }
            }

            header h2 {
                color: #102b4a;
            }

            header address {
                color: #102b4a;
                letter-spacing: 0.145rem;
            }

            @media (orientation: portrait) {
                header h2.fs-3 {
                    font-size: 1rem !important;
                }
                header address.fs-4 {
                    font-size: 0.93rem !important;
                    letter-spacing: 0.045rem;
                }
            }

            header h3 em {
                font-weight: 500;
            }

            h3 {
                font-weight: bold;
            }

            h3 > span {
                font-size: 75%;
                font-weight: normal;
            }

            dd > a {
                font-weight: bold;
            }

            div#participantes {
                margin: 0 -1rem;
            }

            select {
                margin-right: -0.8rem;
            }

            img#escudo {
                width: calc(10vh + 5.5vw);
                margin: 3vh 0 9vh 0;
            }

            .card {
                border-radius: 0;
                border: none;
                box-shadow: 0 0 3px #ddd;
            }

            div.card-footer > small > em {
                color: silver;
            }

            aside > em{
                color:#081626;
            }

        </style>
    </head>
    <body style="background: #f5f5f5;">
        <div class="container" style="background: #fafafa;">
            <div class="row">
                <div class="col-11 mx-auto">
                    <header class="mt-4 pt-3">
                        <div class="row g-0 align-items-center">
                            <div class="col-2 d-none d-md-inline pe-4" style="margin-left: -0.25rem;">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" class="w-100" fill="#102b4a">
                                    <path
                                        d="M5.49,67.68v-21A4.62,4.62,0,0,1,10,42.09H56.65a4.14,4.14,0,0,1,4.43,4.43V47H10.41V67.68Zm0,4.92,15.86-.12-2.09,9.34,9.23-9.34H56.16V51.93h4.92V73a4.37,4.37,0,0,1-4.55,4.43H30.45L18.65,87.6H14l2.22-10.2H10A4.43,4.43,0,0,1,5.49,73ZM86.3,78.13,72.4,58.58H65.51V39.76a2.13,2.13,0,0,0-2.21-2.22H18.77V19.22a3,3,0,0,1,2.95-3H90.85a3.14,3.14,0,0,1,3.2,3V55.87a3,3,0,0,1-3.2,2.71H83.71l3.2,19.55Z"
                                    ></path>
                                </svg>
                            </div>
                            <div class="col-10">
                                <h2 class="fs-3 m-0 p-0">9, 10 y 11 de diciembre, 2024</h2>
                                <address class="fs-4 m-0 p-0"><em>HALL CENTRAL</em> — <em>FAU</em> — <em>UCH</em></address>
                            </div>
                        </div>

                        <h1>Sesión de póster académico</h1>

                        <h2>Resultados del seminario de investigación para optar al grado académico de <em>Licenciado/a en Diseño de la Universidad de Chile</em>.</h2>

                        <img src="escudo-azul.svg" id="escudo" />
                        


                    </header>
                    <main>
                        <div class="row g-0">
                            <div class="col-6">
                                <h3 class="text-decoration-underline">Participan <span>*</span></h3>
                            </div>
                            <div class="col-6">
                                <select class="form-select form-select-sm w-50 ms-auto text-end">
                                    <option value="todos">Todos</option>
                                    <option value="grupo1">Ver grupo 1</option>
                                    <option value="grupo2">Ver grupo 2</option>
                                    <option value="grupo3">Ver grupo 3</option>
                                    <option value="grupo4">Ver grupo 4</option>
                                    <option value="grupo5">Ver grupo 5</option>
                                    <option value="grupo6">Ver grupo 6</option>
                                    <option value="grupo7">Ver grupo 7</option>
                                    <option value="grupo8">Ver grupo 8</option>
                                    <option value="grupo9">Ver grupo 9</option>
                                    <option value="grupo10">Ver grupo 10</option>
                                </select>
                            </div>
                        </div>

                        <div class="row row-cols-2 row-cols-md-3 row-cols-lg-4 g-2" id="participantes"></div>

                        <p class="mt-4 small">
                            * Los/as participantes se organizan en grupos temáticos. Los grupos se presentarán durante la mañana (10.00 a 12.30 hrs.) o la tarde (15.00 a 17.30 hrs.) de los días lunes 9, martes 10 o miércoles 11 de
                            diciembre. El momento de cada grupo dependerá de la disponibilidad de cada Profesor/a involucrado/a.
                        </p>
                    </main>

                    <aside class="my-5 small text-body-secondary">
                        <em>Palabras clave en las investigaciones participantes:</em> <span id="keywords" class="small fst-italic p-1"></span>
                    </aside>

                    <footer class="my-5">
                        <dl>
                            <dt class="fs-4">Invitan</dt>
                            <dd>
                                <a href="https://fau.uchile.cl/diseno" title="Departamento de Diseño" target="_blank" class="link-dark">DdD</a> — FAU — Universidad de Chile<br />
                                <a href="https://fau.uchile.cl/investigacion" title="Dirección de Investigación y Creación" target="_blank" class="link-dark">DIC</a> — FAU — Universidad de Chile
                            </dd>
                        </dl>
                        <dl>
                            <dt class="fs-4">Organizan</dt>
                            <dd>
                                <a href="https://fau.uchile.cl/carreras/4929/diseno" target="_blank" class="link-dark">Carrera de Diseño</a> — Escuela de Pregrado — FAU — Universidad de Chile<br />
                                <a href="https://fau.uchile.cl/extension" title="Dirección de Extensión y Vinculación con el Medio" target="_blank" class="link-dark">DEXVM</a> — FAU — Universidad de Chile
                            </dd>
                        </dl>
                        <dl>
                            <dt class="fs-4">Colabora</dt>
                            <dd><a href="https://www.redis.cl/" target="_blank" class="link-dark">ReDis</a> — Consejo de Rectores de las Universidades de Chilenas</dd>
                        </dl>
                    </footer>
                </div>
            </div>
        </div>
        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"
            integrity="sha512-dfX5uYVXzyU8+KHqj8bjo7UkOdg18PaOtpa48djpNbZHwExddghZ+ZmzWT06R5v6NSk3ZUfsH6FNEDepLx9hPQ=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"
        ></script>

        <script>
            const centena = document.querySelector("#participantes");
            const seleccion = document.querySelector("select");
            const donde = document.querySelector("#keywords");
            var palabrasClave = "";

            Papa.parse("https://raw.githubusercontent.com/disenouchile/seminarios/refs/heads/main/participan.csv", {
                download: true,
                header: true,
                complete: function (results) {
                    console.log(results);
                    results.data.forEach((d) => {
                        centena.innerHTML += `
                            <div class="col grupo${d.grupo}">
                              <div class="card h-100 small">
                                <div class="card-header bg-white border-0 mt-1">
                                    <h6>${d.nombres_seminarista[0]}. ${d.apellidos_seminarista}</h6>
                                </div>
                                <div class="card-body my-0 py-0">
                                  
                                  <p class="fst-italic m-0">${d.nombre_investigacion}</p>
                                  </div>
                                  <div class="card-footer bg-white border-0">
                                  <small><em>Grupo ${d.grupo}</em><br/> 
                                  ${d.prof_guia}</small>
                                </div>
                              </div>
                            </div>`;

                        seleccionables();

                        palabrasClave = palabrasClave + d.palabras_clave + ",";
                    });

                    palabrasClave = palabrasClave.split(",");
                    palabrasClave = palabrasClave.map((e) => e.trim());
                    palabrasClave = palabrasClave.filter((e) => e);
                    palabrasClave = palabrasClave.reduce((a, b) => { b.toUpperCase() === b ? a[0].push(b) : a[1].push(b); return a;},[[], []]).flatMap((e) => e.sort((a, b) => a.localeCompare(b)));
                    palabrasClave = [...new Set(palabrasClave)];
                    console.log(palabrasClave);
                    
                    palabrasClave.forEach((k,i) => {
                        if (i !== palabrasClave.length-1){
                        donde.innerHTML += `${k}, `
                    }
                        else {
                        donde.innerHTML += `${k}.`
                    }
                    })

                }
            });

            function seleccionables() {
                seleccion.addEventListener("change", (e) => {
                    document.querySelectorAll(".col").forEach((t) => t.classList.add("d-none"));
                    valor = e.target.value;
                    if (valor !== "todos") {
                        document.querySelectorAll(`.${valor}`).forEach((t) => t.classList.remove("d-none"));
                    } else {
                        document.querySelectorAll("div").forEach((t) => t.classList.remove("d-none"));
                    }
                });
            }
        </script>
    </body>
</html>